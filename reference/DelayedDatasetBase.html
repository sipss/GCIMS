<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>DelayedDatasetBase — DelayedDatasetBase • GCIMS</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="DelayedDatasetBase — DelayedDatasetBase"><meta property="og:description" content="Base R6 class to handle a dataset that can queue execute operations on it
This is an abstract class. See DelayedDatasetRAM and DelayedDatasetDisk
for specific implementations.
This class is not exported, but if you want to use it reach us at
https://github.com/sipss/GCIMS/issues/ and we will export it."><meta property="og:image" content="https://sipss.github.io/GCIMS/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">GCIMS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/creating-a-workflow-step.html">Creating a workflow step</a>
    </li>
    <li>
      <a href="../articles/importing-custom-data-formats.html">Importing custom data formats</a>
    </li>
    <li>
      <a href="../articles/introduction-to-gcims.html">Introduction to GCIMS</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>DelayedDatasetBase</h1>
    
    <div class="hidden name"><code>DelayedDatasetBase.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Base R6 class to handle a dataset that can queue execute operations on it</p>
<p>This is an abstract class. See <a href="DelayedDatasetRAM.html">DelayedDatasetRAM</a> and <a href="DelayedDatasetDisk.html">DelayedDatasetDisk</a>
for specific implementations.</p>
<p>This class is not exported, but if you want to use it reach us at
<a href="https://github.com/sipss/GCIMS/issues/" class="external-link">https://github.com/sipss/GCIMS/issues/</a> and we will export it.</p>
    </div>


    <div id="active-bindings">
    <h2>Active bindings</h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>sampleNames</code></dt>
<dd><p>The character vector with unique sample names (virtual method)</p></dd>


</dl><p></p></div>
    </div>
    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-DelayedDatasetBase-realize"><code>DelayedDatasetBase$realize()</code></a></p></li>
<li><p><a href="#method-DelayedDatasetBase-new"><code>DelayedDatasetBase$new()</code></a></p></li>
<li><p><a href="#method-DelayedDatasetBase-registerOptimization"><code>DelayedDatasetBase$registerOptimization()</code></a></p></li>
<li><p><a href="#method-DelayedDatasetBase-appendDelayedOp"><code>DelayedDatasetBase$appendDelayedOp()</code></a></p></li>
<li><p><a href="#method-DelayedDatasetBase-hasDelayedOps"><code>DelayedDatasetBase$hasDelayedOps()</code></a></p></li>
<li><p><a href="#method-DelayedDatasetBase-getSample"><code>DelayedDatasetBase$getSample()</code></a></p></li>
<li><p><a href="#method-DelayedDatasetBase-history_as_list"><code>DelayedDatasetBase$history_as_list()</code></a></p></li>
<li><p><a href="#method-DelayedDatasetBase-pending_as_list"><code>DelayedDatasetBase$pending_as_list()</code></a></p></li>
<li><p><a href="#method-DelayedDatasetBase-clone"><code>DelayedDatasetBase$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-DelayedDatasetBase-realize"></a><div class="section">
<h3 id="method-realize-">Method <code><a href="realize.html">realize()</a></code><a class="anchor" aria-label="anchor" href="#method-realize-"></a></h3>
<p>Execute all the queued operations</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DelayedDatasetBase</span><span class="op">$</span><span class="fu">realize</span><span class="op">(</span><span class="va">...</span>, <span class="va">dataset</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Arguments used by children classes, passed on to realize_impl(...)</p></dd>


<dt><code>dataset</code></dt>
<dd><p>The dataset where extracted results will be aggregated on</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-DelayedDatasetBase-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create a new object, initialize the slots</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/DelayedDatasetBase.html">DelayedDatasetBase</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>sample_class <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>sample_class</code></dt>
<dd><p>The class of the samples in the dataset, used just to validate the contract between
the delayed actions and the samples. If <code>NULL</code> action return values are not checked</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-DelayedDatasetBase-registerOptimization"></a><div class="section">
<h3 id="method-registeroptimization-">Method <code>registerOptimization()</code><a class="anchor" aria-label="anchor" href="#method-registeroptimization-"></a></h3>
<p>The list of queued operations are usually processed sequentially over each sample when
the delayed dataset is realized.</p>
<p>In some cases we want to operate on the list of queued operations before processing them,
for instance to remove redundant operations or change their order, to improve performance.</p>
<p>Write a function that takes and returns a list of queued operations when used
as follows:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>queued_ops <span class="ot">&lt;-</span> <span class="fu">your_function</span>(queued_ops)</span></code></pre><p></p></div>
<p>And call <code>obj$registerOptimization(your_function)</code> to register it, so every time
<code>obj$realize()</code> is called, the list of queued operations will be passed to your function
and optimized accordingly.</p>
<p>You can register as many optimizations as you like.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DelayedDatasetBase</span><span class="op">$</span><span class="fu">registerOptimization</span><span class="op">(</span><span class="va">optimization</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>optimization</code></dt>
<dd><p>A function that takes a list of queued operations and
returns a more optimized version of it.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>The object</p>
</div>

</div><p></p><hr><a id="method-DelayedDatasetBase-appendDelayedOp"></a><div class="section">
<h3 id="method-appenddelayedop-">Method <code>appendDelayedOp()</code><a class="anchor" aria-label="anchor" href="#method-appenddelayedop-"></a></h3>
<p>Queues an operation to the dataset so it will run afterwards</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DelayedDatasetBase</span><span class="op">$</span><span class="fu">appendDelayedOp</span><span class="op">(</span><span class="va">operation</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>operation</code></dt>
<dd><p>A <a href="DelayedOperation.html">DelayedOperation</a> object</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>The modified dataset object</p>
</div>

</div><p></p><hr><a id="method-DelayedDatasetBase-hasDelayedOps"></a><div class="section">
<h3 id="method-hasdelayedops-">Method <code>hasDelayedOps()</code><a class="anchor" aria-label="anchor" href="#method-hasdelayedops-"></a></h3>
<p>Find out if the dataset has pending operations</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DelayedDatasetBase</span><span class="op">$</span><span class="fu">hasDelayedOps</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>Returns <code>TRUE</code> if the dataset has pending operations, <code>FALSE</code> otherwise</p>
</div>

</div><p></p><hr><a id="method-DelayedDatasetBase-getSample"></a><div class="section">
<h3 id="method-getsample-">Method <code><a href="getSample.html">getSample()</a></code><a class="anchor" aria-label="anchor" href="#method-getsample-"></a></h3>
<p>Get a sample from the dataset</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DelayedDatasetBase</span><span class="op">$</span><span class="fu">getSample</span><span class="op">(</span><span class="va">sample</span>, <span class="va">dataset</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>sample</code></dt>
<dd><p>Either an integer (sample index) or a string (sample name)</p></dd>


<dt><code>dataset</code></dt>
<dd><p>The dataset object so we can realize it if needed</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>The sample object</p>
</div>

</div><p></p><hr><a id="method-DelayedDatasetBase-history_as_list"></a><div class="section">
<h3 id="method-history-as-list-">Method <code>history_as_list()</code><a class="anchor" aria-label="anchor" href="#method-history-as-list-"></a></h3>
<p>Get a list that describes the already executed operations</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DelayedDatasetBase</span><span class="op">$</span><span class="fu">history_as_list</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>A list, with the operations</p>
</div>

</div><p></p><hr><a id="method-DelayedDatasetBase-pending_as_list"></a><div class="section">
<h3 id="method-pending-as-list-">Method <code>pending_as_list()</code><a class="anchor" aria-label="anchor" href="#method-pending-as-list-"></a></h3>
<p>Get a list that describes the queued operations</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DelayedDatasetBase</span><span class="op">$</span><span class="fu">pending_as_list</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>A list, with the operations</p>
</div>

</div><p></p><hr><a id="method-DelayedDatasetBase-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DelayedDatasetBase</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sergio Oller Moreno, Celia Mallafré Muro, Luis Fernandez, Eduardo Caballero Saldivar, Arnau Blanco Borrego, Antonio Pardo Matínez, Santiago Marco Colás.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

