<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a table for defining dataset annotations — create_annotations_table • GCIMS</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create a table for defining dataset annotations — create_annotations_table"><meta property="og:description" content="To process an entire dataset, we need a table that describes the samples,
and you may want to add for the analysis."><meta property="og:image" content="https://sipss.github.io/GCIMS/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">GCIMS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/creating-a-workflow-step.html">Creating a workflow step</a>
    </li>
    <li>
      <a href="../articles/importing-custom-data-formats.html">Importing custom data formats</a>
    </li>
    <li>
      <a href="../articles/introduction-to-gcims.html">Introduction to GCIMS</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a table for defining dataset annotations</h1>
    
    <div class="hidden name"><code>create_annotations_table.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>To process an entire dataset, we need a table that describes the samples,
and you may want to add for the analysis.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_annotations_table</span><span class="op">(</span></span>
<span>  <span class="va">samples_dir</span>,</span>
<span>  glob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"*.mea"</span>, <span class="st">"*.mea.gz"</span><span class="op">)</span>,</span>
<span>  recursive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>samples_dir</dt>
<dd><p>A directory that contains samples</p></dd>


<dt>glob</dt>
<dd><p>One or more globs for sample extensions. See the examples.</p></dd>


<dt>recursive</dt>
<dd><p>Whether to look for samples into <code>samples_dir</code> subdirectories</p></dd>


<dt>verbose</dt>
<dd><p>If set to <code>TRUE</code> it prints instructions</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A data frame with the SampleID and FileName columns</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The table needs to have at least two columns, one with the file name of
the sample (<code>FileName</code>) and another one with the sample name (<code>SampleID</code>), that you can set
as you like. Besides, you can add additional columns with any
metadata/annotations/phenotypes you may consider relevant.</p>
<p>This function will help you list all the samples from a directory to a table. The example
below will show you how to save this table as an Excel or CSV file, for you
to conveniently modify it and how you can read it back for further analysis.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># How to create the annotations table:</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># First you must tell R where your samples are. Please change "samples_dir"</span></span></span>
<span class="r-in"><span><span class="co"># below to your samples directory. On Windows you can use:</span></span></span>
<span class="r-in"><span><span class="co">#     samples_dir &lt;- choose.dir(getwd(), "Choose the folder where the samples are")</span></span></span>
<span class="r-in"><span><span class="co"># On other systems you can use:</span></span></span>
<span class="r-in"><span><span class="co">#     library(tcltk)</span></span></span>
<span class="r-in"><span><span class="co">#     samples_dir &lt;- tclvalue(tkchooseDirectory())</span></span></span>
<span class="r-in"><span><span class="co"># In this example we use a folder with some demo files:</span></span></span>
<span class="r-in"><span><span class="va">samples_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"sample_formats"</span>, package <span class="op">=</span> <span class="st">"GCIMS"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Then you need to provide the extension to look into. If you use `glob = "*.*"` you</span></span></span>
<span class="r-in"><span><span class="co"># will catch all files and you can filter the annotations table afterwards:</span></span></span>
<span class="r-in"><span><span class="va">annotations</span> <span class="op">&lt;-</span> <span class="fu">create_annotations_table</span><span class="op">(</span><span class="va">samples_dir</span>, glob <span class="op">=</span> <span class="st">"*.mea.gz"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> An annotation table was created</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">ℹ</span> The table now includes 1 samples</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">ℹ</span> Feel free to edit the table to include additional annotations as extra columns (for groups, phenotypes...), please avoid renaming the SampleID and FileName columns</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">ℹ</span> You may freely add/remove rows to include/exclude additional samples</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">ℹ</span> For editing, you can do it from R or you can check the examples at help("create_annotations_table") tolearn how to save the table to an Excel file at your convenience</span>
<span class="r-in"><span><span class="co"># You can write the annotations table to an Excel or a CSV file:</span></span></span>
<span class="r-in"><span><span class="co"># For Excel you may need to install the writexl package:</span></span></span>
<span class="r-in"><span><span class="co">#    install.packages("writexl")</span></span></span>
<span class="r-in"><span><span class="co"># And then you can use:</span></span></span>
<span class="r-in"><span><span class="co">#    writexl::write_xlsx(annotations, "annotations.xlsx")</span></span></span>
<span class="r-in"><span><span class="co"># For csv just use:</span></span></span>
<span class="r-in"><span><span class="co">#    write.csv(annotations, "annotations.csv")</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Modify manually the excel or CSV file</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Read it again into R as follows:</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># For Excel you may need to install the readxl package:</span></span></span>
<span class="r-in"><span><span class="co">#    install.packages("readxl")</span></span></span>
<span class="r-in"><span><span class="co"># And then you can use:</span></span></span>
<span class="r-in"><span><span class="co">#    annotations &lt;- readxl::read_excel("annotations.xlsx")</span></span></span>
<span class="r-in"><span><span class="co"># For csv just use:</span></span></span>
<span class="r-in"><span><span class="co">#    annotations &lt;- read.csv("annotations.csv")</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Celia Mallafré Muro, Luis Fernandez, Sergio Oller Moreno, Arnau Blanco Borrego, Santiago Marco Colás.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

